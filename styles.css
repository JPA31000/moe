:root{--bg:#0b1220;--panel:#111827;--text:#e5e7eb;--sub:#93a4c7;--accent:#60a5fa;--ok:#34d399;--warn:#fb7185;--card:#0f172a;--line:#1f2937}
*{box-sizing:border-box} html,body{height:100%} body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial;background:var(--bg);color:var(--text)}
.topbar{position:sticky;top:0;z-index:20;background:#0a0f1d;border-bottom:1px solid var(--line);padding:10px 16px;display:grid;grid-template-columns:auto 1fr auto;gap:12px;align-items:center}
.brand{font-weight:700} .progressbar{height:8px;background:#0e1729;border-radius:999px;overflow:hidden;border:1px solid #17223a}
.progress{height:100%;width:0%;background:linear-gradient(90deg,#60a5fa,#34d399);transition:width .25s ease}
.screen{max-width:1200px;margin:0 auto;padding:20px 16px} .hidden{display:none}
h1{margin:8px 0 4px} .subtitle{margin-top:0;color:var(--sub)}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.form-row{display:flex;gap:12px;align-items:center;margin:12px 0} label{min-width:150px;color:var(--sub)}
input,select{padding:12px 14px;border:1px solid #263247;border-radius:12px;background:#0b1220;color:var(--text);font-size:16px}
.fieldset{border:1px solid #1f2a3c;border-radius:12px;padding:12px;background:#0b1220} .check{display:block;margin:8px 0}
button{padding:12px 16px;border-radius:12px;border:1px solid transparent;cursor:pointer;font-size:16px}
button.primary{background:var(--accent);color:#031026} button.success{background:var(--ok);color:#02140d}
button.ghost{background:#0b1220;border-color:#1f2a3c;color:var(--text)} button:disabled{opacity:.55}
#hud{display:grid;grid-template-columns:repeat(4,auto);gap:12px;align-items:center;background:#0a0f1d;padding:12px;border-radius:14px;margin-bottom:12px;border:1px solid #162136}
#prompt.card{background:var(--card);padding:12px;border-radius:12px;border:1px solid #1c2a44;margin-bottom:8px;font-weight:600}
.rule-banner{margin:8px 0 12px 0;padding:10px 12px;border-radius:12px;background:#0a0f1d;border:1px solid #1c2a44;color:#cfe2ff}
.layout{display:grid;grid-template-columns:300px 1fr;gap:16px}
.side{background:#0a0f1d;border:1px solid #162136;border-radius:14px;padding:12px}
.game-area{background:#0a0f1d;border:1px solid #162136;border-radius:14px;padding:12px;min-height:380px}

.vocab-bank{background:#0b1220;border:1px dashed #2b3a57;padding:12px;border-radius:14px;margin-bottom:8px}
.tag{padding:8px 10px;border:1px solid #2a3853;border-radius:999px;background:#0b1220;user-select:none;display:inline-flex;gap:10px;align-items:center;font-weight:700}
.tag .ico{width:18px;height:18px;display:inline-block}

.plan-wrap{position:relative; overflow:hidden; border-radius:12px; border:1px solid #1f2a3c; background:#0b1220}
.plan-inner{position:relative; transform-origin: top left}
.plan-inner img.plan{display:block; max-width:100%; height:auto; pointer-events:none; user-select:none}
.drop-zone{position:absolute; width:28px; height:28px; border-radius:999px; border:2px dashed #60a5fa22; background:#60a5fa10; pointer-events:none}
.drop-zone.guide{border-color:#60a5fa99; background:#60a5fa26}
.drop-targeted{box-shadow:0 0 0 3px rgba(96,165,250,.4) inset}
.tag-placed{position:absolute; transform:translate(-50%,-50%);}

.checklist h4{margin:0 0 8px 0} .checklist ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}
.checklist li.done{opacity:.6; text-decoration:line-through}

.correct{background:#0b2a1b!important;border-color:#1f6d46!important}
.incorrect{background:#3b0e17!important;border-color:#7a2033!important}

.toast{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);background:#0a0f1d;border:1px solid #253552;color:#e5e7eb;padding:10px 14px;border-radius:10px;z-index:50}
